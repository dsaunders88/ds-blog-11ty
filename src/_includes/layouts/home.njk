{% extends "base.njk" %}

{% block content %}

    <!-- Intro -->
    <article class="hero-clipped relative border-b border-slate-600 pt-52 pb-40">
        <div
            class="container relative z-10 mx-auto flex max-w-screen-xl flex-col items-start px-4 lg:flex-row lg:items-center lg:justify-between">
            <div class="mb-12 lg:mb-0">
                <span
                    class="mb-5 block font-header text-lg font-medium italic"
                >
                    {{ intro.eyebrow }}
                </span>
                <h1
                    class="mb-8 font-header text-6xl font-bold"
                >
                    <span
                        class="bg-gradient-to-r from-rose-600 to-rose-900 dark:from-rose-500 dark:to-rose-300 bg-clip-text text-transparent"
                    >
                        {{ intro.title }}
                    </span>
                </h1>
                {{ content | safe }}
            </div>
            <a
                id="randomPostButton"
                href="/posts/"
                class="relative lg:w-60 text-center rounded-lg text-zinc-50 bg-rose-600 dark:bg-gradient-to-r dark:from-rose-400 dark:to-rose-300 py-3 px-5 text-xl dark:text-slate-900 lg:right-16 hover:-translate-y-1 transition-transform duration-100"
            >
                <i class="fa-solid fa-block-question mr-1"></i>
                    Random Post
            </a>
        </div>
        <div class="custom-background absolute inset-0 h-full w-full"></div>
    </article>

<!-- Posts -->
<div id="categoryGrid" class="container mx-auto max-w-screen-xl px-4 pt-20 pb-40 grid grid-cols-1 md:grid-cols-3 gap-8">
    <div class="col-span-1 md:col-span-2 order-1">
        <p class="font-header text-lg font-medium italic">
         <i class="fa-duotone fa-calendar-day mr-2 text-rose-600 dark:text-rose-400"></i>
            Recent Posts
        </p>
    </div>
    <!-- First card -->
    <div
        x-data="{ expanded: false }"
        class="order-2 md:order-3"
    >
        <article 
            @click="expanded =! expanded"
            :class="{ 'shadow-md dark:shadow-xl': expanded }"
            class="p-8 rounded-md bg-zinc-100 dark:bg-slate-900 hover:cursor-pointer group relative"
        >
            <div 
                :class="{ 'expanded-opacity': expanded }"
                class="absolute rounded-md inset-0 w-full h-full overflow-hidden transition-all duration-300 opacity-0 group-hover:opacity-80"
            >
                <div class="hidden dark:block h-full">
                    <svg id="visual" viewBox="0 0 600 900" preserveAspectRatio="xMinYMin slice" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"><g stroke-width="1" stroke-linejoin="bevel"><path d="M332 447L404 212L280 333Z" fill="#1c2739" stroke="#1c2739"></path><path d="M332 447L600 396L404 212Z" fill="#151e30" stroke="#151e30"></path><path d="M332 447L600 496L600 396Z" fill="#0f172a" stroke="#0f172a"></path><path d="M332 447L449 607L600 496Z" fill="#1c2739" stroke="#1c2739"></path><path d="M600 396L600 93L404 212Z" fill="#121b2d" stroke="#121b2d"></path><path d="M404 212L133 144L280 333Z" fill="#121b2d" stroke="#121b2d"></path><path d="M280 333L161 580L332 447Z" fill="#0f172a" stroke="#0f172a"></path><path d="M131 0L133 144L404 212Z" fill="#121b2d" stroke="#121b2d"></path><path d="M0 340L161 580L280 333Z" fill="#121b2d" stroke="#121b2d"></path><path d="M332 447L161 580L449 607Z" fill="#1c2739" stroke="#1c2739"></path><path d="M600 93L473 0L404 212Z" fill="#1b2537" stroke="#1b2537"></path><path d="M470 753L600 670L449 607Z" fill="#1e293b" stroke="#1e293b"></path><path d="M449 607L600 670L600 496Z" fill="#10192c" stroke="#10192c"></path><path d="M600 93L600 0L473 0Z" fill="#151e30" stroke="#151e30"></path><path d="M133 144L0 340L280 333Z" fill="#10192c" stroke="#10192c"></path><path d="M140 786L470 753L449 607Z" fill="#10192c" stroke="#10192c"></path><path d="M0 0L0 179L133 144Z" fill="#1c2739" stroke="#1c2739"></path><path d="M133 144L0 179L0 340Z" fill="#121b2d" stroke="#121b2d"></path><path d="M473 0L131 0L404 212Z" fill="#10192c" stroke="#10192c"></path><path d="M0 340L0 523L161 580Z" fill="#1c2739" stroke="#1c2739"></path><path d="M161 580L140 786L449 607Z" fill="#121b2d" stroke="#121b2d"></path><path d="M0 523L0 630L161 580Z" fill="#182234" stroke="#182234"></path><path d="M0 630L140 786L161 580Z" fill="#1b2537" stroke="#1b2537"></path><path d="M131 0L0 0L133 144Z" fill="#1b2537" stroke="#1b2537"></path><path d="M140 786L320 900L470 753Z" fill="#1c2739" stroke="#1c2739"></path><path d="M470 753L600 900L600 670Z" fill="#131c2f" stroke="#131c2f"></path><path d="M320 900L600 900L470 753Z" fill="#121b2d" stroke="#121b2d"></path><path d="M0 900L155 900L140 786Z" fill="#10192c" stroke="#10192c"></path><path d="M140 786L155 900L320 900Z" fill="#121b2d" stroke="#121b2d"></path><path d="M0 630L0 900L140 786Z" fill="#1c2739" stroke="#1c2739"></path></g></svg>
                </div>
                <div class="block opacity-40 dark:hidden h-full">
                    <svg id="visual" viewBox="0 0 600 900" preserveAspectRatio="xMinYMin slice" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"><g stroke-width="1" stroke-linejoin="bevel"><path d="M310 582L285 310L0 614Z" fill="#ffcfd4" stroke="#FFFFFF"></path><path d="M285 310L0 280L0 614Z" fill="#ffe0e3" stroke="#FFFFFF"></path><path d="M0 614L320 900L310 582Z" fill="#fff1f2" stroke="#FFFFFF"></path><path d="M0 900L320 900L0 614Z" fill="#fff1f2" stroke="#FFFFFF"></path><path d="M285 310L0 0L0 280Z" fill="#feb5be" stroke="#FFFFFF"></path><path d="M320 900L600 622L310 582Z" fill="#ffd8db" stroke="#FFFFFF"></path><path d="M310 582L600 274L285 310Z" fill="#feadb6" stroke="#FFFFFF"></path><path d="M285 310L332 0L0 0Z" fill="#feadb6" stroke="#FFFFFF"></path><path d="M600 622L600 274L310 582Z" fill="#ffcfd4" stroke="#FFFFFF"></path><path d="M600 274L332 0L285 310Z" fill="#ffbec5" stroke="#FFFFFF"></path><path d="M320 900L600 900L600 622Z" fill="#feadb6" stroke="#FFFFFF"></path><path d="M600 274L600 0L332 0Z" fill="#fda4af" stroke="#FFFFFF"></path></g></svg>
                </div>
            </div>
            <div class="relative transition-all duration-200"
            >
                <h2 
                    :class="{ 'text-rose-600 dark:text-rose-400': expanded }"
                    class="font-header font-bold text-3xl mb-2 group-hover:text-rose-600 dark:group-hover:text-rose-400 transition-colors"
                >
                    Notes
                </h2>
                <p class="italic">Shorter posts & thoughts (click to expand)</p>
                <i
                    :class="{ 'rotate-90 transition-all duration-200': expanded }" 
                    class="fa-solid fa-chevron-right text-rose-600 dark:text-rose-400 absolute right-0 top-1/2 transition-all duration-200"
                ></i>
            </div>

            <section
                x-show="expanded"
                x-collapse
                @click.stop
                class="cursor-default relative"
            >
                <ul class="border-t border-rose-200 dark:border-slate-700 mt-6">
                    {% for item in collections.notes | reverse | limit(5) %}
                        <li class="first:mt-6 mb-6">
                            <p class="text-base col-span-5 sm:col-span-1 text-zinc-500 dark:text-slate-400">
                                <date>{{ item.data.date | postDateShort }}</date>
                            </p>
                            <a href="{{ item.url }}" class="w-fit col-span-5 sm:col-span-4 hover:text-rose-600 dark:hover:text-rose-400 hover:underline">
                                {{ item.data.title }}
                            </a>
                        </li>
                    {% endfor %}
                </ul>
                <div class="mt-2">
                    <a href="/posts/notes/" class="underline text-rose-600 dark:text-rose-400 hover:no-underline text-base">See all Notes</a>
                </div>
            </section>
        </article>
    </div>

    <!-- Second card -->
    <div
        x-data="{ expanded: false }"
        class="order-3 md:order-4"
    >
        <article 
            @click="expanded =! expanded"
            :class="{ 'shadow-md dark:shadow-xl': expanded }"
            class="p-8 rounded-md bg-zinc-100 dark:bg-slate-900 hover:cursor-pointer group relative"
        >
            <div 
                :class="{ 'expanded-opacity': expanded }"
                class="absolute rounded-md inset-0 w-full h-full overflow-hidden transition-all duration-300 opacity-0 group-hover:opacity-80"
            >
                <div class="hidden dark:block h-full">
                    <svg id="visual" viewBox="0 0 600 900" preserveAspectRatio="xMinYMin slice" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"><g stroke-width="1" stroke-linejoin="bevel"><path d="M400 485L428 338L272 346Z" fill="#1c2739" stroke="#1c2739"></path><path d="M428 338L286 217L272 346Z" fill="#10192c" stroke="#10192c"></path><path d="M400 485L600 445L428 338Z" fill="#182234" stroke="#182234"></path><path d="M428 338L473 94L286 217Z" fill="#0f172a" stroke="#0f172a"></path><path d="M400 485L600 509L600 445Z" fill="#10192c" stroke="#10192c"></path><path d="M0 273L108 577L272 346Z" fill="#131c2f" stroke="#131c2f"></path><path d="M272 346L108 577L400 485Z" fill="#182234" stroke="#182234"></path><path d="M400 485L486 729L600 509Z" fill="#1e293b" stroke="#1e293b"></path><path d="M600 165L473 94L428 338Z" fill="#131c2f" stroke="#131c2f"></path><path d="M600 445L600 165L428 338Z" fill="#10192c" stroke="#10192c"></path><path d="M270 748L486 729L400 485Z" fill="#121b2d" stroke="#121b2d"></path><path d="M108 577L270 748L400 485Z" fill="#1b2537" stroke="#1b2537"></path><path d="M0 155L0 273L286 217Z" fill="#0f172a" stroke="#0f172a"></path><path d="M286 217L0 273L272 346Z" fill="#1c2739" stroke="#1c2739"></path><path d="M0 273L0 548L108 577Z" fill="#1b2537" stroke="#1b2537"></path><path d="M108 577L0 633L270 748Z" fill="#10192c" stroke="#10192c"></path><path d="M600 0L321 0L473 94Z" fill="#121b2d" stroke="#121b2d"></path><path d="M473 94L321 0L286 217Z" fill="#10192c" stroke="#10192c"></path><path d="M321 0L226 0L286 217Z" fill="#182234" stroke="#182234"></path><path d="M0 548L0 633L108 577Z" fill="#1b2537" stroke="#1b2537"></path><path d="M226 0L0 155L286 217Z" fill="#1c2739" stroke="#1c2739"></path><path d="M600 900L600 791L486 729Z" fill="#182234" stroke="#182234"></path><path d="M486 729L600 791L600 509Z" fill="#1c2739" stroke="#1c2739"></path><path d="M600 165L600 0L473 94Z" fill="#182234" stroke="#182234"></path><path d="M231 900L315 900L270 748Z" fill="#0f172a" stroke="#0f172a"></path><path d="M270 748L315 900L486 729Z" fill="#151e30" stroke="#151e30"></path><path d="M0 900L231 900L270 748Z" fill="#1e293b" stroke="#1e293b"></path><path d="M226 0L0 0L0 155Z" fill="#0f172a" stroke="#0f172a"></path><path d="M315 900L600 900L486 729Z" fill="#121b2d" stroke="#121b2d"></path><path d="M0 633L0 900L270 748Z" fill="#0f172a" stroke="#0f172a"></path></g></svg>
                </div>
                <div class="block opacity-40 dark:hidden h-full">
                    <svg id="visual" viewBox="0 0 600 900" preserveAspectRatio="xMinYMin slice" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"><g stroke-width="1" stroke-linejoin="bevel"><path d="M310 582L285 310L0 614Z" fill="#ffcfd4" stroke="#FFFFFF"></path><path d="M285 310L0 280L0 614Z" fill="#ffe0e3" stroke="#FFFFFF"></path><path d="M0 614L320 900L310 582Z" fill="#fff1f2" stroke="#FFFFFF"></path><path d="M0 900L320 900L0 614Z" fill="#fff1f2" stroke="#FFFFFF"></path><path d="M285 310L0 0L0 280Z" fill="#feb5be" stroke="#FFFFFF"></path><path d="M320 900L600 622L310 582Z" fill="#ffd8db" stroke="#FFFFFF"></path><path d="M310 582L600 274L285 310Z" fill="#feadb6" stroke="#FFFFFF"></path><path d="M285 310L332 0L0 0Z" fill="#feadb6" stroke="#FFFFFF"></path><path d="M600 622L600 274L310 582Z" fill="#ffcfd4" stroke="#FFFFFF"></path><path d="M600 274L332 0L285 310Z" fill="#ffbec5" stroke="#FFFFFF"></path><path d="M320 900L600 900L600 622Z" fill="#feadb6" stroke="#FFFFFF"></path><path d="M600 274L600 0L332 0Z" fill="#fda4af" stroke="#FFFFFF"></path></g></svg>
                </div>
            </div>
            <div class="relative transition-all duration-200"
            >
                <h2 
                    :class="{ 'text-rose-600 dark:text-rose-400': expanded }"
                    class="font-header font-bold text-3xl mb-2 group-hover:text-rose-600 dark:group-hover:text-rose-400 transition-colors"
                >
                    Essays
                </h2>
                <p class="italic">Longer pieces & projects (click to expand)</p>
                <i
                    :class="{ 'rotate-90 transition-all duration-200': expanded }" 
                    class="fa-solid fa-chevron-right text-rose-600 dark:text-rose-400 absolute right-0 top-1/2 transition-all duration-200"
                ></i>
            </div>

            <section
                x-show="expanded"
                x-collapse
                @click.stop
                class="cursor-default relative"
            >
                <ul class="border-t border-rose-200 dark:border-slate-700 mt-6">
                    {% for item in collections.essays | reverse | limit(5) %}
                        <li class="first:mt-6 mb-6">
                            <p class="text-base col-span-5 sm:col-span-1 text-zinc-500 dark:text-slate-400">
                                <date>{{ item.data.date | postDateShort }}</date>
                            </p>
                            <a href="{{ item.url }}" class="w-fit col-span-5 sm:col-span-4 hover:text-rose-600 dark:hover:text-rose-400 hover:underline">
                                {{ item.data.title }}
                            </a>
                        </li>
                    {% endfor %}
                </ul>
                <div class="mt-2">
                    <a href="/posts/essays/" class="underline text-rose-600 dark:text-rose-400 hover:no-underline text-base">See all Essays</a>
                </div>
            </section>
        </article>
    </div>

    <!-- Third card -->
    <div
        x-data="{ expanded: false }"
        class="order-4 md:order-6"
    >
        <article 
            @click="expanded =! expanded"
            :class="{ 'shadow-md dark:shadow-xl': expanded }"
            class="p-8 rounded-md bg-zinc-100 dark:bg-slate-900 hover:cursor-pointer group relative"
        >
            <div 
                :class="{ 'expanded-opacity': expanded }"
                class="absolute rounded-md inset-0 w-full h-full overflow-hidden transition-all duration-300 opacity-0 group-hover:opacity-80"
            >
                <div class="hidden dark:block h-full">
                    <svg id="visual" viewBox="0 0 600 900" preserveAspectRatio="xMinYMin slice" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"><g stroke-width="1" stroke-linejoin="bevel"><path d="M332 447L404 212L280 333Z" fill="#1c2739" stroke="#1c2739"></path><path d="M332 447L600 396L404 212Z" fill="#151e30" stroke="#151e30"></path><path d="M332 447L600 496L600 396Z" fill="#0f172a" stroke="#0f172a"></path><path d="M332 447L449 607L600 496Z" fill="#1c2739" stroke="#1c2739"></path><path d="M600 396L600 93L404 212Z" fill="#121b2d" stroke="#121b2d"></path><path d="M404 212L133 144L280 333Z" fill="#121b2d" stroke="#121b2d"></path><path d="M280 333L161 580L332 447Z" fill="#0f172a" stroke="#0f172a"></path><path d="M131 0L133 144L404 212Z" fill="#121b2d" stroke="#121b2d"></path><path d="M0 340L161 580L280 333Z" fill="#121b2d" stroke="#121b2d"></path><path d="M332 447L161 580L449 607Z" fill="#1c2739" stroke="#1c2739"></path><path d="M600 93L473 0L404 212Z" fill="#1b2537" stroke="#1b2537"></path><path d="M470 753L600 670L449 607Z" fill="#1e293b" stroke="#1e293b"></path><path d="M449 607L600 670L600 496Z" fill="#10192c" stroke="#10192c"></path><path d="M600 93L600 0L473 0Z" fill="#151e30" stroke="#151e30"></path><path d="M133 144L0 340L280 333Z" fill="#10192c" stroke="#10192c"></path><path d="M140 786L470 753L449 607Z" fill="#10192c" stroke="#10192c"></path><path d="M0 0L0 179L133 144Z" fill="#1c2739" stroke="#1c2739"></path><path d="M133 144L0 179L0 340Z" fill="#121b2d" stroke="#121b2d"></path><path d="M473 0L131 0L404 212Z" fill="#10192c" stroke="#10192c"></path><path d="M0 340L0 523L161 580Z" fill="#1c2739" stroke="#1c2739"></path><path d="M161 580L140 786L449 607Z" fill="#121b2d" stroke="#121b2d"></path><path d="M0 523L0 630L161 580Z" fill="#182234" stroke="#182234"></path><path d="M0 630L140 786L161 580Z" fill="#1b2537" stroke="#1b2537"></path><path d="M131 0L0 0L133 144Z" fill="#1b2537" stroke="#1b2537"></path><path d="M140 786L320 900L470 753Z" fill="#1c2739" stroke="#1c2739"></path><path d="M470 753L600 900L600 670Z" fill="#131c2f" stroke="#131c2f"></path><path d="M320 900L600 900L470 753Z" fill="#121b2d" stroke="#121b2d"></path><path d="M0 900L155 900L140 786Z" fill="#10192c" stroke="#10192c"></path><path d="M140 786L155 900L320 900Z" fill="#121b2d" stroke="#121b2d"></path><path d="M0 630L0 900L140 786Z" fill="#1c2739" stroke="#1c2739"></path></g></svg>
                </div>
                <div class="block opacity-40 dark:hidden h-full">
                    <svg id="visual" viewBox="0 0 600 900" preserveAspectRatio="xMinYMin slice" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"><g stroke-width="1" stroke-linejoin="bevel"><path d="M310 582L285 310L0 614Z" fill="#ffcfd4" stroke="#FFFFFF"></path><path d="M285 310L0 280L0 614Z" fill="#ffe0e3" stroke="#FFFFFF"></path><path d="M0 614L320 900L310 582Z" fill="#fff1f2" stroke="#FFFFFF"></path><path d="M0 900L320 900L0 614Z" fill="#fff1f2" stroke="#FFFFFF"></path><path d="M285 310L0 0L0 280Z" fill="#feb5be" stroke="#FFFFFF"></path><path d="M320 900L600 622L310 582Z" fill="#ffd8db" stroke="#FFFFFF"></path><path d="M310 582L600 274L285 310Z" fill="#feadb6" stroke="#FFFFFF"></path><path d="M285 310L332 0L0 0Z" fill="#feadb6" stroke="#FFFFFF"></path><path d="M600 622L600 274L310 582Z" fill="#ffcfd4" stroke="#FFFFFF"></path><path d="M600 274L332 0L285 310Z" fill="#ffbec5" stroke="#FFFFFF"></path><path d="M320 900L600 900L600 622Z" fill="#feadb6" stroke="#FFFFFF"></path><path d="M600 274L600 0L332 0Z" fill="#fda4af" stroke="#FFFFFF"></path></g></svg>
                </div>
            </div>
            <div class="relative transition-all duration-200"
            >
                <h2 
                    :class="{ 'text-rose-600 dark:text-rose-400': expanded }"
                    class="font-header font-bold text-3xl mb-2 group-hover:text-rose-600 dark:group-hover:text-rose-400 transition-colors"
                >
                    Lists
                </h2>
                <p class="italic">Catalogues of the web (click to expand)</p>
                <i
                    :class="{ 'rotate-90 transition-all duration-200': expanded }" 
                    class="fa-solid fa-chevron-right text-rose-600 dark:text-rose-400 absolute right-0 top-1/2 transition-all duration-200"
                ></i>
            </div>

            <section
                x-show="expanded"
                x-collapse
                @click.stop
                class="cursor-default relative"
            >
                <ul class="border-t border-rose-200 dark:border-slate-700 mt-6">
                    {% for item in collections.lists | reverse | limit(5) %}
                        <li class="first:mt-6 mb-6">
                            <p class="text-base col-span-5 sm:col-span-1 text-zinc-500 dark:text-slate-400">
                                <date>{{ item.data.date | postDateShort }}</date>
                            </p>
                            <a href="{{ item.url }}" class="w-fit col-span-5 sm:col-span-4 hover:text-rose-600 dark:hover:text-rose-400 hover:underline">
                                {{ item.data.title }}
                            </a>
                        </li>
                    {% endfor %}
                </ul>
                <div class="mt-2">
                    <a href="/posts/lists/" class="underline text-rose-600 dark:text-rose-400 hover:no-underline text-base">See all Lists</a>
                </div>
            </section>
        </article>
    </div>

    <div class="flex justify-center items-center | order-5 md:order-7">
        <a href="{{ navigation.navItems[1].url }}" class="col-start-1 col-span-3 lg:col-start-2 lg:col-span-1 rounded-lg w-fit text-zinc-50 bg-rose-600 dark:bg-gradient-to-r dark:from-rose-400 dark:to-rose-300 py-2 px-4 mb-12 lg:mb-0 dark:text-slate-900 hover:-translate-y-1 transition-transform duration-100">
            <i class="fa-solid fa-ball-pile mr-1"></i>
            See All Posts
        </a>
    </div>
    <div class="col-span-1 md:col-span-1 order-6 md:order-2">
        <p class="font-header text-lg font-medium italic">
        <i class="fa-duotone fa-chart-line mr-2 text-rose-600 dark:text-rose-400"></i>
            Top Posts
        </p>
    </div>
    <div class="order-7 md:order-5 row-span-3">
        {% include "partials/top-posts-list.njk" %}
    </div>
    <div class="md:col-span-2 mt-10 | order-8">
        <section class="relative w-full">
        
            {% include "partials/tags-list-all.njk" %}

        </section>
    </div>
</div>

{% endblock %}